---
import type { Project } from '@/types/sections/portfolio-section.types';
import Description from '@/web/components/description.astro';
import LabelledValue from '@/web/components/labelled-value.astro';
import LinkButton from '@/web/components/link-button.astro';
import Photo from '@/web/components/photo.astro';
import TagsList from '@/web/components/tags-list.astro';
import Timestamp from '@/web/components/timestamp.astro';
import Typography from '@/web/components/typography.astro';

export interface Props extends Project {}

const { dates, description, details, image, links, name, tagsList } = Astro.props;

const alt = `${name} project thumbnail`;
---

<div class="flex flex-col gap-6">
  <div class="flex flex-col gap-4">
    <div class="flex gap-6">
      <Photo
        src={image}
        alt={alt}
        width={120}
        height={120}
        class="rounded-lg object-cover xl:h-[120px] xl:w-[120px] sm:h-[170px] sm:w-[170px] sm:block hidden"
      />
      <div class="flex w-full flex-col gap-4">
        <div class="flex justify-between">
          <div>
            <Typography variant="item-title">{name}</Typography>
            <Timestamp dates={dates} />
          </div>
          <div class="flex gap-2">
            {links.map((link) => <LinkButton {...link} />)}
          </div>
        </div>
        <Photo
          width={120}
          height={120}
          class="rounded-lg object-cover sm:hidden h-[120px] w-[120px]"
          src={image}
          alt={alt}
        />
        <div class="inline-grid w-full xl:grid-cols-[auto_auto]">
          {details.map((detail) => <LabelledValue {...detail} />)}
        </div>
      </div>
    </div>
    <Description content={description} class="col-span-3 col-start-1" />
  </div>
  <TagsList {...tagsList} />
</div>
