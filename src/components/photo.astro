---
import { Image } from '@astrojs/image/components';

import type { Photo } from '@/types/common';

export interface Props {
  src: Photo;
  alt: string;
  class?: string;
  loading?: 'eager' | 'lazy';
}

const { src, alt, loading } = Astro.props;
const className = Astro.props.class ?? '';

const isRemoteImage = typeof src === 'string';
---

{
  isRemoteImage ? (
    <img class={className} src={src} alt={alt} />
  ) : (
    <Image class={className} format="webp" fit={'cover'} src={src} alt={alt} loading={loading} />
  )
}
