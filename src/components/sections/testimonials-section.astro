---
import Divider from '@/atoms/divider.astro';
import SectionCard from '@/atoms/section-card.astro';
import Typography from '@/atoms/typography.astro';
import Testimonial from '@/organisms/testimonial.astro';
import type { Section } from '@/types/data';
import type { TestimonialsSection } from '@/types/testimonials-section';

export interface Props extends TestimonialsSection {}

const {
  testimonials,
  config: { title },
} = Astro.props;

const section: Section = 'testimonials';
---

<SectionCard section={section}>
  <Typography variant="section-title" id={`${section}-heading`}>{title}</Typography>
  <div class:list={['flex', 'flex-col']}>
    {
      testimonials.map((testimonial, index) => (
        <>
          <Testimonial testimonial={testimonial} />
          {index !== testimonials.length - 1 && <Divider />}
        </>
      ))
    }
  </div>
</SectionCard>
